<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/unofficial-desmos-wiki/css/base.css" />
    <title>Guide to 3D</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    
<script src="https://www.desmos.com/api/v1.8/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>

<script defer>
window.addEventListener("load", () => {
  for (const e of document.getElementsByClassName("eleventy-desmos-mq-container")) {  
    const staticMath = Desmos.MathQuill.StaticMath(e);
    staticMath.latex(e.dataset.latex);
    e.querySelector(".dcg-mq-root-block").style.display = "inline";

    const settings = JSON.parse(e.dataset.settings);
    if (settings.copyButton) {
      const copyButton = document.createElement("button");
      copyButton.classList.toggle("eleventy-desmos-copy-button", true);
      copyButton.innerText = "Copy to Clipboard"
      e.parentElement.appendChild(copyButton);
      copyButton.onclick = () => {
        navigator.clipboard.writeText(e.dataset.latex);
        copyButton.innerText = "Copied!";
        setTimeout(() => {
          copyButton.innerHTML = "Copy to Clipboard";
        }, 750);
      }
    }
  }

  for (const e of document.getElementsByClassName("eleventy-desmos-dcg-container")) {
    const observer = new IntersectionObserver((entries, observer) => {
      if (!Array.from(entries).some(e => e.isIntersecting)) return;
      const Calc = Desmos.GraphingCalculator(e, JSON.parse(e.dataset.settings));
      Calc.setState(JSON.parse(e.dataset.state))
      observer.disconnect()
    });
    observer.observe(e, { threshold: 0.01 });
  }

})</script>
    
    <script src="/unofficial-desmos-wiki/pagefind/pagefind-ui.js"></script>
  </head>
  <body>
    <header class="header-side-by-side">
      <a href="/unofficial-desmos-wiki/">
        <div class="site-name">Desmos Wiki
          <span class="unofficial">(Unofficial)</span>
        </div>
      </a>
      <div id="searchbar"></div>
      <script>
        new PagefindUI({ element: "#searchbar"})
      </script>
      <button id="light-dark-toggle"></button>
    </header>
    <div class="main-content-side-by-side">
      <nav class="header-nav">
        <span class="header-nav-title">Guide to 3D</span>
        <ul><li><a href="#This-guide-is-for-making-3D-engines-in-the-Desmos-2D-calculator!">This guide is for making 3D engines in the Desmos 2D calculator!</a></li><li><a href="#Some-notes-on-style">Some notes on style</a></li><li><a href="#What-are-3D-Scenes-Made-Of">What are 3D Scenes Made Of?</a></li><li><a href="#A-2D-Example">A 2D Example</a></li><li><a href="#How-do-we-make-this-3D">How do we make this 3D?</a><ul><li><a href="#Projection">Projection</a></li><li><a href="#A-Short-Note-on-Coordinate-Systems">A Short Note on Coordinate Systems</a></li><li><a href="#Putting-it-all-together">Putting it all together</a></li><li><a href="#Adding-the-Indices-and-Polygons">Adding the Indices and Polygons</a></li></ul></li><li><a href="#Making-it-Colorful">Making it Colorful</a></li><li><a href="#Depth-Sorting-(Painter's-Algorithm)">Depth Sorting (Painter's Algorithm)</a><ul><li><a href="#Quick-Aside:-What-do-I-mean-by-'depths'">Quick Aside: What do I mean by 'depths'?</a></li><li><a href="#Depth-Sorting-(continued)">Depth Sorting (continued)</a></li></ul></li><li><a href="#Coordinate-Systems">Coordinate Systems</a><ul><li><a href="#Screen-Space">Screen Space</a></li><li><a href="#Model-Space">Model Space</a></li><li><a href="#World-Space">World Space</a></li><li><a href="#View-Space">View Space</a></li></ul></li><li><a href="#Translation-(Moving-Around-in-Space)">Translation (Moving Around in Space)</a></li><li><a href="#Rotation">Rotation</a><ul><li><a href="#2D-Rotation">2D Rotation</a></li><li><a href="#3D-Rotation">3D Rotation</a><ul><li><a href="#Panning">Panning</a></li><li><a href="#Tilting">Tilting</a></li></ul></li><li><a href="#Putting-it-All-Together">Putting it All Together</a></li></ul></li></ul>
      </nav>
      <main>
        <h1 data-weight="0">Guide to 3D</h1>
        <ul class="tags">
          
            <li class="tag">
              <a href="/unofficial-desmos-wiki/tag/3d/">3d</a>
            </li>
          
            <li class="tag">
              <a href="/unofficial-desmos-wiki/tag/guide/">guide</a>
            </li>
          
        </ul>
        
          <p>Making something 3D in Desmos may initially seem like a daunting task. However, it's ultimately far simpler than it looks once you break it down. This guide will explain how Desmos 3D works and how one can implement their own 3D engine. The focus will be on readability rather than achieving maximum performance.</p>
<h2 id="This-guide-is-for-making-3D-engines-in-the-Desmos-2D-calculator!">This guide is for making 3D engines in the Desmos 2D calculator!<a class="link-to-header" href="#This-guide-is-for-making-3D-engines-in-the-Desmos-2D-calculator!"> #</a></h2>
<p>Now that <a href="https://www.desmos.com/3d">Desmos 3D</a> is out, it's important to mention that this guide is specifically geared toward making 3D engines in Desmos's <a href="https://www.desmos.com/calculator">2D graphing calculator.</a> If you're looking for info on how to use the 3D calculator, you won't find that in this article.</p>
<h2 id="Some-notes-on-style">Some notes on <em>style</em><a class="link-to-header" href="#Some-notes-on-style"> #</a></h2>
<p>Throughout this article, I'll be using very long variable names. This is to prioritize clarity of explanation over conciseness. You probably shouldn't do this to the same extent I do here in your own graphs.</p>
<h2 id="What-are-3D-Scenes-Made-Of">What are 3D Scenes Made Of?<a class="link-to-header" href="#What-are-3D-Scenes-Made-Of"> #</a></h2>
<p>Before diving into making an actual 3D engine, it's important to consider what 3D scenes are actually made of. 3D scenes are usually made up of 3D <em>meshes</em>. 3D meshes are nothing more than a group of many, many triangles in 3D space. These triangles are themselves made up of the following components:</p>
<ol>
<li>A collection of 3D <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(x, y, z\right)" data-settings="{}"></span></span> points, where each point is called a <em>vertex</em>. Keep in mind that these will have to be split into three lists (a list of x-values, a list of y-values, and a list of z-values), because Desmos currently does not support 3D points.</li>
<li>A collection of numbers that determine <em>which</em> points make up the vertices of <em>which</em> triangles. For instance, these may say that a triangle in a mesh is formed from the 3rd, 4th, and 7th vertex. These numbers are called <em>indices</em>.</li>
</ol>
<h2 id="A-2D-Example">A 2D Example<a class="link-to-header" href="#A-2D-Example"> #</a></h2>
<p>To better understand the concept of a mesh, here is a 2D analog of a mesh, where 2D vertices are being linked together into triangles to create a square:</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;randomSeed&quot;:&quot;&quot;,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-2,&quot;ymin&quot;:-2,&quot;xmax&quot;:2,&quot;ymax&quot;:2},&quot;squareAxes&quot;:true,&quot;xAxisLabel&quot;:&quot;&quot;,&quot;yAxisLabel&quot;:&quot;&quot;,&quot;xAxisArrowMode&quot;:&quot;NONE&quot;,&quot;yAxisArrowMode&quot;:&quot;NONE&quot;,&quot;xAxisMinorSubdivisions&quot;:0,&quot;yAxisMinorSubdivisions&quot;:0,&quot;xAxisStep&quot;:0,&quot;yAxisStep&quot;:0,&quot;degreeMode&quot;:false,&quot;showGrid&quot;:true,&quot;showXAxis&quot;:true,&quot;showYAxis&quot;:true,&quot;xAxisNumbers&quot;:true,&quot;yAxisNumbers&quot;:true,&quot;polarNumbers&quot;:true,&quot;restrictGridToFirstQuadrant&quot;:false,&quot;polarMode&quot;:false,&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;p_{oints}=\\left[\\left(0,0\\right),\\left(1,0\\right),\\left(1,1\\right),\\left(0,1\\right)\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;i_{ndicesP1}=\\left[1,2\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;4&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;i_{ndicesP2}=\\left[2,3\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;5&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;i_{ndicesP3}=\\left[4,4\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;6&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;\\operatorname{polygon}\\left(p_{oints}\\left[i_{ndicesP1}\\right],p_{oints}\\left[i_{ndicesP2}\\right],p_{oints}\\left[i_{ndicesP3}\\right]\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}}]}}" data-settings="{}"></div>
<p>In this case, we have a unit square with one corner at <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(0,0\right)" data-settings="{}"></span></span> and another at <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(1,1\right)" data-settings="{}"></span></span>. The first triangle is made up of the 1st, 2nd, and 4th vertices, while the second triangle is made up of the 2nd, 3rd, and 4th vertices.</p>
<p>You might notice the seemingly strange choice to use three lists for the indices (<span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="i_{ndicesP1}" data-settings="{}"></span></span>, <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="i_{ndicesP2}" data-settings="{}"></span></span>, and <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="i_{ndicesP3}" data-settings="{}"></span></span>). Using three index lists makes indexing easier because each triangle uses three indices. If we interleaved them all in a single list <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left[1,2,4,2,3,4\right]" data-settings="{}"></span></span> then we'd have to do slow, annoying indexing math to untangle the triangles' indices.</p>
<h2 id="How-do-we-make-this-3D">How do we make this 3D?<a class="link-to-header" href="#How-do-we-make-this-3D"> #</a></h2>
<p>How can we expand this to 3D? As stated earlier, we'll need to represent the 3D vertices as three different lists (just to be clear, these are different from the three index lists I just described). We'll need a list for the X-coordinates, one for the Y-coordinates, and a third for Z. Let's pick the vertices for a cube, where one corner is at <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(-1,-1,-5\right)" data-settings="{}"></span></span> and the other is at <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(1,1,-7\right)" data-settings="{}"></span></span>.</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-10,&quot;xmax&quot;:10,&quot;ymin&quot;:-10,&quot;ymax&quot;:10},&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;1&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositions}=\\left[-1,1,-1,1,-1,1,-1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositions}=\\left[-1,-1,1,1,-1,-1,1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositions}=\\left[-5,-5,-5,-5,-7,-7,-7,-7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}}]}}" data-settings="{ &quot;graphpaper&quot;: false }"></div>
<p>To actually render this, we'll need to convert these vertices from 3D coordinates to 2D coordinates, and then render them with the same technique we used to render the 2D square in the section above.</p>
<h3 id="Projection">Projection<a class="link-to-header" href="#Projection"> #</a></h3>
<p>"Projection" in this case refers to the process of converting <em>coordinates in 3D space</em> to <em>2D coordinates on the screen</em>. We'll use a perspective projection, which is the same kind of projection that you use to see.</p>
<p>In a perspective projection, things appear smaller the farther they are away from the camera. How much smaller? Compare this to your own eyesight— if you have an object 1 meter away from your eyes, and then you move it so that it's 2 meters away, it appears half as large. If you move it 3 meters away, it appears one-third as large. If you move it 4 meters away, it appears one-fourth as large. Also note that the further away it gets, the closer it appears to the "center" of your field of vision.</p>
<p>In other words, the apparent size— and proximity to your field of view's center— is <em>inversely proportional</em> to the depth of an object. This formalizes the intuition of farther away things being smaller.</p>
<h3 id="A-Short-Note-on-Coordinate-Systems">A Short Note on Coordinate Systems<a class="link-to-header" href="#A-Short-Note-on-Coordinate-Systems"> #</a></h3>
<p>For this guide, we'll be using a Y-up, Right-Handed coordinate system. By "Y-up" we mean that the Y-axis is the "up" direction, and by "Right-Handed" we mean that the coordinate system follows the right-hand rule: Positive X is right, positive Y is up, and positive Z is toward the camera. This is why all the Z-values in the cube are negative— we want it to be <em>in front of</em> the camera so it displays properly.</p>
<h3 id="Putting-it-all-together">Putting it all together<a class="link-to-header" href="#Putting-it-all-together"> #</a></h3>
<p>So, given all this, since positive Z is forward and negative Z is backward, we can perform a perspective projection— converting from 3D to 2D, in other words— <strong>by taking the X and Y components and dividing them by the negative of the Z component</strong>. If we do this, we get the vertices of a cube:</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;randomSeed&quot;:&quot;&quot;,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-2,&quot;ymin&quot;:-2,&quot;xmax&quot;:2,&quot;ymax&quot;:2},&quot;squareAxes&quot;:true,&quot;xAxisLabel&quot;:&quot;&quot;,&quot;yAxisLabel&quot;:&quot;&quot;,&quot;xAxisArrowMode&quot;:&quot;NONE&quot;,&quot;yAxisArrowMode&quot;:&quot;NONE&quot;,&quot;xAxisMinorSubdivisions&quot;:0,&quot;yAxisMinorSubdivisions&quot;:0,&quot;xAxisStep&quot;:0,&quot;yAxisStep&quot;:0,&quot;degreeMode&quot;:false,&quot;showGrid&quot;:true,&quot;showXAxis&quot;:true,&quot;showYAxis&quot;:true,&quot;xAxisNumbers&quot;:true,&quot;yAxisNumbers&quot;:true,&quot;polarNumbers&quot;:true,&quot;restrictGridToFirstQuadrant&quot;:false,&quot;polarMode&quot;:false,&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositions}=\\left[-1,1,-1,1,-1,1,-1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositions}=\\left[-1,-1,1,1,-1,-1,1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;4&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositions}=\\left[-5,-5,-5,-5,-7,-7,-7,-7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;5&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;S_{creenSpacePoints}=\\frac{\\left(X_{VertexPositions},Y_{VertexPositions}\\right)}{-Z_{VertexPositions}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}}]}}" data-settings="{}"></div>
<h3 id="Adding-the-Indices-and-Polygons">Adding the Indices and Polygons<a class="link-to-header" href="#Adding-the-Indices-and-Polygons"> #</a></h3>
<p>Now that we've got a bunch of 2D points, we can now get the indices of the 12 triangles that make up the 6 square faces of the cube and join them together with polygons, exactly like we did before with the 2D square:</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;randomSeed&quot;:&quot;&quot;,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-2,&quot;ymin&quot;:-2,&quot;xmax&quot;:2,&quot;ymax&quot;:2},&quot;squareAxes&quot;:true,&quot;xAxisLabel&quot;:&quot;&quot;,&quot;yAxisLabel&quot;:&quot;&quot;,&quot;xAxisArrowMode&quot;:&quot;NONE&quot;,&quot;yAxisArrowMode&quot;:&quot;NONE&quot;,&quot;xAxisMinorSubdivisions&quot;:0,&quot;yAxisMinorSubdivisions&quot;:0,&quot;xAxisStep&quot;:0,&quot;yAxisStep&quot;:0,&quot;degreeMode&quot;:false,&quot;showGrid&quot;:true,&quot;showXAxis&quot;:true,&quot;showYAxis&quot;:true,&quot;xAxisNumbers&quot;:true,&quot;yAxisNumbers&quot;:true,&quot;polarNumbers&quot;:true,&quot;restrictGridToFirstQuadrant&quot;:false,&quot;polarMode&quot;:false,&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositions}=\\left[-1,1,-1,1,-1,1,-1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositions}=\\left[-1,-1,1,1,-1,-1,1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;4&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositions}=\\left[-5,-5,-5,-5,-7,-7,-7,-7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;5&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;S_{creenSpacePoints}=\\frac{\\left(X_{VertexPositions},Y_{VertexPositions}\\right)}{-Z_{VertexPositions}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;6&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP1}=\\left[1,2,3,7,1,2,1,5,2,6,5,6\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;7&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP2}=\\left[2,4,7,4,2,5,5,3,4,4,6,8\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;8&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP3}=\\left[3,3,4,8,5,6,3,7,6,8,7,7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;9&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;\\operatorname{polygon}\\left(S_{creenSpacePoints}\\left[I_{ndicesP1}\\right],S_{creenSpacePoints}\\left[I_{ndicesP2}\\right],S_{creenSpacePoints}\\left[I_{ndicesP3}\\right]\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}}]}}" data-settings="{}"></div>
<h2 id="Making-it-Colorful">Making it Colorful<a class="link-to-header" href="#Making-it-Colorful"> #</a></h2>
<p>Now that we've got the cube working, let's make it fully opaque, get rid of the lines, and make every triangle a separate color. We'll also hide the points.</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;randomSeed&quot;:&quot;&quot;,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-2,&quot;ymin&quot;:-2,&quot;xmax&quot;:2,&quot;ymax&quot;:2},&quot;squareAxes&quot;:true,&quot;xAxisLabel&quot;:&quot;&quot;,&quot;yAxisLabel&quot;:&quot;&quot;,&quot;xAxisArrowMode&quot;:&quot;NONE&quot;,&quot;yAxisArrowMode&quot;:&quot;NONE&quot;,&quot;xAxisMinorSubdivisions&quot;:0,&quot;yAxisMinorSubdivisions&quot;:0,&quot;xAxisStep&quot;:0,&quot;yAxisStep&quot;:0,&quot;degreeMode&quot;:false,&quot;showGrid&quot;:true,&quot;showXAxis&quot;:true,&quot;showYAxis&quot;:true,&quot;xAxisNumbers&quot;:true,&quot;yAxisNumbers&quot;:true,&quot;polarNumbers&quot;:true,&quot;restrictGridToFirstQuadrant&quot;:false,&quot;polarMode&quot;:false,&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositions}=\\left[-1,1,-1,1,-1,1,-1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositions}=\\left[-1,-1,1,1,-1,-1,1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;4&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositions}=\\left[-5,-5,-5,-5,-7,-7,-7,-7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;5&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:true,&quot;latex&quot;:&quot;S_{creenSpacePoints}=\\frac{\\left(X_{VertexPositions},Y_{VertexPositions}\\right)}{-Z_{VertexPositions}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;6&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP1}=\\left[1,2,3,7,1,2,1,5,2,6,5,6\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;7&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP2}=\\left[2,4,7,4,2,5,5,3,4,4,6,8\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;8&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP3}=\\left[3,3,4,8,5,6,3,7,6,8,7,7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;9&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{olors}=\\operatorname{hsv}\\left(\\left[30,60...360\\right],1,1\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;10&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;\\operatorname{polygon}\\left(S_{creenSpacePoints}\\left[I_{ndicesP1}\\right],S_{creenSpacePoints}\\left[I_{ndicesP2}\\right],S_{creenSpacePoints}\\left[I_{ndicesP3}\\right]\\right)&quot;,&quot;colorLatex&quot;:&quot;C_{olors}&quot;,&quot;lines&quot;:false,&quot;lineWidth&quot;:&quot;0&quot;,&quot;fill&quot;:true,&quot;fillOpacity&quot;:&quot;1&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}}]}}" data-settings="{}"></div>
<p>Wait... that doesn't look right! Faraway faces are being drawn in front of close-up faces!</p>
<h2 id="Depth-Sorting-(Painter's-Algorithm)">Depth Sorting (Painter's Algorithm)<a class="link-to-header" href="#Depth-Sorting-(Painter's-Algorithm)"> #</a></h2>
<p>Lists of polygons in Desmos are drawn in the same order in which they are placed in the list. As a consequence, polygons <em>later</em> in a list will be drawn <em>on top</em> of polygons <em>earlier</em> in a list. Consider the following example:</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-10,&quot;xmax&quot;:10,&quot;ymin&quot;:-10,&quot;ymax&quot;:10},&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;1&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{olors}=\\left[\\operatorname{rgb}\\left(255,0,0\\right),\\operatorname{rgb}\\left(0,0,255\\right)\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;P_{olygons}=\\left[\\operatorname{polygon}\\left(\\left[0,1,0\\right],\\left[0,1,2\\right]\\right),\\operatorname{polygon}\\left(\\left[0,1,0\\right]+0.5,\\left[0,1,2\\right]\\right)\\right]&quot;,&quot;colorLatex&quot;:&quot;C_{olors}&quot;,&quot;lines&quot;:false,&quot;lineWidth&quot;:&quot;0&quot;,&quot;fill&quot;:true,&quot;fillOpacity&quot;:&quot;1&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}}]}}" data-settings="{}"></div>
<p>The blue triangle is drawn on top of the red polygon because it's later in the list.</p>
<p>We can take advantage of this phenomenon to render the 3D scene properly by sorting the list of polygons. How do we sort a list of polygons? In the Graphing Calculator, sorting a list of polygons might seem impossible because polygons can't be compared by Desmos's built-in <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\operatorname{sort}" data-settings="{}"></span></span> function. However, we can get around this by using two-argument sort, which uses the ordering of its <em>second</em> argument to sort its <em>first</em> argument.</p>
<p>For instance, <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\operatorname{sort}\left(\left[1,3,5,7,9\right],\left[12,2,4,9,1\right]\right)" data-settings="{}"></span></span> is <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left[9,3,5,7,1\right]" data-settings="{}"></span></span> because it's as if Desmos <em>thinks</em> it's sorting <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left[12,2,4,9,1\right]" data-settings="{}"></span></span>, when in reality the list that's <em>actually</em> changing is <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left[1,3,5,7,9\right]" data-settings="{}"></span></span>. We can take advantage of this technique by using the list of polygons as our first argument and the depths of our polygons multiplied by -1 as the second argument. Because <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\operatorname{sort}" data-settings="{}"></span></span> sorts in ascending order, more negative depths— which represent farther-away polygons, since, again we're multiplying by -1— will appear <em>first</em>, allowing closer polygons to appear later on in the list and thus show up on top. The end result is that nearby polygons render on top of faraway ones.</p>
<h3 id="Quick-Aside:-What-do-I-mean-by-'depths'">Quick Aside: What do I mean by 'depths'?<a class="link-to-header" href="#Quick-Aside:-What-do-I-mean-by-'depths'"> #</a></h3>
<p>When you hear the word "depth", you might immediately think that I mean "Z-value." However, if we were to use Z-values as the depths for our depth sorting, it would <em>work</em>, but it wouldn't work particularly <em>well</em>. Instead, we should use the euclidean <em>distance</em> from the camera to a given polygon. It'd be difficult to explain <em>why</em> this works better without creating a few long paragraphs that bog down this article, so if you're curious as to why Z-values don't work as well for depths, try implementing a renderer that uses Z-values as depths and compare it to one that uses distances.</p>
<h3 id="Depth-Sorting-(continued)">Depth Sorting (continued)<a class="link-to-header" href="#Depth-Sorting-(continued)"> #</a></h3>
<p>The thing is, we can't just use the distances of the vertices to the camera directly. This won't work because these distances are per-<em>vertex</em>, while we're trying to sort <em>polygons</em>, which don't correspond to vertices 1:1, and don't even really <em>have</em> a definite, exact distance to the camera. We can solve this by finding the <em>average</em> distance to the camera of the three vertices of a polygon.</p>
<p>Note that we'll also have to sort the <em>colors</em> in this exact same way, so that they always correspond to the same polygon.</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;randomSeed&quot;:&quot;&quot;,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-2,&quot;ymin&quot;:-2,&quot;xmax&quot;:2,&quot;ymax&quot;:2},&quot;squareAxes&quot;:true,&quot;xAxisLabel&quot;:&quot;&quot;,&quot;yAxisLabel&quot;:&quot;&quot;,&quot;xAxisArrowMode&quot;:&quot;NONE&quot;,&quot;yAxisArrowMode&quot;:&quot;NONE&quot;,&quot;xAxisMinorSubdivisions&quot;:0,&quot;yAxisMinorSubdivisions&quot;:0,&quot;xAxisStep&quot;:0,&quot;yAxisStep&quot;:0,&quot;degreeMode&quot;:false,&quot;showGrid&quot;:true,&quot;showXAxis&quot;:true,&quot;showYAxis&quot;:true,&quot;xAxisNumbers&quot;:true,&quot;yAxisNumbers&quot;:true,&quot;polarNumbers&quot;:true,&quot;restrictGridToFirstQuadrant&quot;:false,&quot;polarMode&quot;:false,&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositions}=\\left[-1,1,-1,1,-1,1,-1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositions}=\\left[-1,-1,1,1,-1,-1,1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;4&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositions}=\\left[-5,-5,-5,-5,-7,-7,-7,-7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;5&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:true,&quot;latex&quot;:&quot;S_{creenSpacePoints}=\\frac{\\left(X_{VertexPositions},Y_{VertexPositions}\\right)}{-Z_{VertexPositions}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;6&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP1}=\\left[1,2,3,7,1,2,1,5,2,6,5,6\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;7&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP2}=\\left[2,4,7,4,2,5,5,3,4,4,6,8\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;8&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP3}=\\left[3,3,4,8,5,6,3,7,6,8,7,7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;9&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:true,&quot;latex&quot;:&quot;U_{nsortedPolygons}=\\operatorname{polygon}\\left(S_{creenSpacePoints}\\left[I_{ndicesP1}\\right],S_{creenSpacePoints}\\left[I_{ndicesP2}\\right],S_{creenSpacePoints}\\left[I_{ndicesP3}\\right]\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;10&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;V_{ertexDistances}=\\sqrt{X_{VertexPositions}^{2}+Y_{VertexPositions}^{2}+Z_{VertexPositions}^{2}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;11&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;P_{olygonAverageDist}=\\frac{V_{ertexDistances}\\left[I_{ndicesP1}\\right]+V_{ertexDistances}\\left[I_{ndicesP2}\\right]+V_{ertexDistances}\\left[I_{ndicesP3}\\right]}{3}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;12&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{olors}=\\operatorname{sort}\\left(\\operatorname{hsv}\\left(\\left[30,60...360\\right],1,1\\right),-P_{olygonAverageDist}\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;13&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;\\operatorname{sort}\\left(U_{nsortedPolygons},-P_{olygonAverageDist}\\right)&quot;,&quot;colorLatex&quot;:&quot;C_{olors}&quot;,&quot;lines&quot;:false,&quot;lineWidth&quot;:&quot;0&quot;,&quot;fill&quot;:true,&quot;fillOpacity&quot;:&quot;1&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}}]}}" data-settings="{}"></div>
<p>Okay, there we go, that looks better! But it's also kind of boring— we're viewing the cube from head-on, so all we can see is a square. Let's make the cube viewable from other positions and angles.</p>
<h2 id="Coordinate-Systems">Coordinate Systems<a class="link-to-header" href="#Coordinate-Systems"> #</a></h2>
<p>Before we continue, I think it's important that you know the various different <em>coordinate systems</em> that come into play when 3D rendering. This will make it far easier to communicate ideas and avoid accidentally tripping over yourself. There are few errors more frustrating than using a variable representing the wrong coordinate system, because without proper naming conventions, these variables can be <em>exceedingly difficult to distinguish from one another</em>.</p>
<p>Consider also reading <a href="https://learnopengl.com/Getting-started/Coordinate-Systems">this excellent article at LearnOpenGL</a> on coordinate systems, though do keep in mind that it contains quite a bit of OpenGL-specific information that won't be as useful here.</p>
<h3 id="Screen-Space">Screen Space<a class="link-to-header" href="#Screen-Space"> #</a></h3>
<p>Screen Space is arguably the simplest of the coordinate systems. In the context of Desmos, Screen Space refers to the <em>graph coordinates on your screen</em>. That is, if you were to plot a point <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(1,1\right)" data-settings="{}"></span></span> in Desmos, its actual position on the graph would be its actual position in screen space.</p>
<p>Now, just to be clear, this is somewhat different from the "Screen Space" you might see in computer graphics, which refers to a coordinate system where one corner of the screen is defined as (0, 0) and the opposite corner is defined as (width of screen in pixels, height of screen in pixels). So if you had a 1920x1080 monitor, screen space would range from 0 to 1920 on the x-axis and 0 to 1080 on the y-axis.</p>
<h3 id="Model-Space">Model Space<a class="link-to-header" href="#Model-Space"> #</a></h3>
<p>Model space is the coordinate system defined by a 3D model's raw data. That is, if you read a 3D model file and spat out the vertex positions without doing anything to them (no translation, no rotation, no scaling, etc.), those vertices would be said to be in <em>model space</em>.</p>
<h3 id="World-Space">World Space<a class="link-to-header" href="#World-Space"> #</a></h3>
<p>If you were to then take that model (with its model space coordinates) and move it around in the 3D world— for instance, if you moved a video game character around— then the vertex positions <em>after being moved</em> are said to be in <em>world space</em>.</p>
<p>Depending on what you're doing, and especially if your scene is stationary, you might not need to bother with world space.</p>
<h3 id="View-Space">View Space<a class="link-to-header" href="#View-Space"> #</a></h3>
<p>Now that we have a 3D model positioned somewhere in the world, we have to take into account the fact that it's being <em>viewed</em> from a specific location. Why should changing the <em>view</em> have any effect on the coordinate space? Here's why:</p>
<p>Consider what happens when you walk ten meters forward. The rest of the world appears to move ten meters backward. This is how cameras in (rasterization-based) 3D renderers work— the camera doesn't move <em>forward</em>, the world moves <em>backward</em>. The universe literally moves, revolves, and scales around the camera to give the illusion of movement. And because this involves shifting the world-space vertices around, we need a new coordinate system. And that coordinate system is called View Space, because it represents the coordinates from the standpoint of the camera's view.</p>
<h2 id="Translation-(Moving-Around-in-Space)">Translation (Moving Around in Space)<a class="link-to-header" href="#Translation-(Moving-Around-in-Space)"> #</a></h2>
<p>Now that we know this, we can make the camera move. I've stuffed most of this graph into an "Internals" folder for clarity's sake, and added three variables— <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="C_{ameraX}" data-settings="{}"></span></span>, <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="C_{ameraY}" data-settings="{}"></span></span>, and <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="C_{ameraZ}" data-settings="{}"></span></span>— to represent the camera's position in space. Because we want to have the world move in the opposite direction of the camera's motion, we subtract each camera position variable from the respective model space vertex variable. If you open the "Internals" folder, you might notice that we're skipping straight from model space to view space, skipping world space. This is fine in this case because we aren't moving, rotating, or scaling the <em>cube</em> at all. Because there's no transformation, model space and world space for the cube are one and the same.</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;randomSeed&quot;:&quot;&quot;,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-2,&quot;ymin&quot;:-2,&quot;xmax&quot;:2,&quot;ymax&quot;:2},&quot;squareAxes&quot;:true,&quot;xAxisLabel&quot;:&quot;&quot;,&quot;yAxisLabel&quot;:&quot;&quot;,&quot;xAxisArrowMode&quot;:&quot;NONE&quot;,&quot;yAxisArrowMode&quot;:&quot;NONE&quot;,&quot;xAxisMinorSubdivisions&quot;:0,&quot;yAxisMinorSubdivisions&quot;:0,&quot;xAxisStep&quot;:0,&quot;yAxisStep&quot;:0,&quot;degreeMode&quot;:false,&quot;showGrid&quot;:true,&quot;showXAxis&quot;:true,&quot;showYAxis&quot;:true,&quot;xAxisNumbers&quot;:true,&quot;yAxisNumbers&quot;:true,&quot;polarNumbers&quot;:true,&quot;restrictGridToFirstQuadrant&quot;:false,&quot;polarMode&quot;:false,&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{ameraX}=0&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{ameraY}=0&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;4&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{ameraZ}=0&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;5&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;folder&quot;,&quot;hidden&quot;:false,&quot;collapsed&quot;:true,&quot;title&quot;:&quot;Internals&quot;},{&quot;id&quot;:&quot;6&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositionsModelSpace}=\\left[-1,1,-1,1,-1,1,-1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;7&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositionsModelSpace}=\\left[-1,-1,1,1,-1,-1,1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;8&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositionsModelSpace}=\\left[-5,-5,-5,-5,-7,-7,-7,-7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;9&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositionsViewSpace}=X_{VertexPositionsModelSpace}-C_{ameraX}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;10&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositionsViewSpace}=Y_{VertexPositionsModelSpace}-C_{ameraY}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;11&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositionsViewSpace}=Z_{VertexPositionsModelSpace}-C_{ameraZ}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;12&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:true,&quot;latex&quot;:&quot;S_{creenSpacePoints}=\\frac{\\left(X_{VertexPositionsViewSpace},Y_{VertexPositionsViewSpace}\\right)}{-Z_{VertexPositionsViewSpace}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;13&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP1}=\\left[1,2,3,7,1,2,1,5,2,6,5,6\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;14&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP2}=\\left[2,4,7,4,2,5,5,3,4,4,6,8\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;15&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP3}=\\left[3,3,4,8,5,6,3,7,6,8,7,7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;16&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:true,&quot;latex&quot;:&quot;U_{nsortedPolygons}=\\operatorname{polygon}\\left(S_{creenSpacePoints}\\left[I_{ndicesP1}\\right],S_{creenSpacePoints}\\left[I_{ndicesP2}\\right],S_{creenSpacePoints}\\left[I_{ndicesP3}\\right]\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;17&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;V_{ertexDistances}=\\sqrt{X_{VertexPositionsViewSpace}^{2}+Y_{VertexPositionsViewSpace}^{2}+Z_{VertexPositionsViewSpace}^{2}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;18&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;P_{olygonAverageDist}=\\frac{V_{ertexDistances}\\left[I_{ndicesP1}\\right]+V_{ertexDistances}\\left[I_{ndicesP2}\\right]+V_{ertexDistances}\\left[I_{ndicesP3}\\right]}{3}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;19&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{olors}=\\operatorname{sort}\\left(\\operatorname{hsv}\\left(\\left[30,60...360\\right],1,1\\right),-P_{olygonAverageDist}\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;},{&quot;id&quot;:&quot;20&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;\\operatorname{sort}\\left(U_{nsortedPolygons},-P_{olygonAverageDist}\\right)&quot;,&quot;colorLatex&quot;:&quot;C_{olors}&quot;,&quot;lines&quot;:false,&quot;lineWidth&quot;:&quot;0&quot;,&quot;fill&quot;:true,&quot;fillOpacity&quot;:&quot;1&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;5&quot;}]}}" data-settings="{}"></div>
<h2 id="Rotation">Rotation<a class="link-to-header" href="#Rotation"> #</a></h2>
<p>Rotation is a huge can of worms. There are quite a few different techniques you could use, including:</p>
<ul>
<li>Rotation Matrices</li>
<li>Quaternions</li>
<li>Euler Angles (possibly with Rodrigues' Rotation Formula)</li>
</ul>
<p>However, for the sake of our collective sanities, I'm going to stick with one of the simplest rotation schemes I can think of: a simple, first-person camera rotation controller— the kind you would probably see in an FPS game or in Minecraft, where you can pan the camera left and right and tilt it up and down.</p>
<h3 id="2D-Rotation">2D Rotation<a class="link-to-header" href="#2D-Rotation"> #</a></h3>
<p>In order to get this working, we first have to understand 2D rotation. In short, if you have a point <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(x,y\right)" data-settings="{}"></span></span> and want to rotate it by an angle <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\theta" data-settings="{}"></span></span> about the origin, to get a point <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="\left(x_{2},y_{2}\right)" data-settings="{}"></span></span>, you can use the following formulas to get <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="x_{2}" data-settings="{}"></span></span> and <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="y_{2}" data-settings="{}"></span></span>.</p>
<p><span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="x_{2}=x\cdot \operatorname{cos}\left(\theta\right)-y\cdot \operatorname{sin}\left(\theta\right)" data-settings="{}"></span></span></p>
<p><span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="y_{2}=x\cdot \operatorname{sin}\left(\theta\right)+y\cdot \operatorname{cos}\left(\theta\right)" data-settings="{}"></span></span></p>
<h3 id="3D-Rotation">3D Rotation<a class="link-to-header" href="#3D-Rotation"> #</a></h3>
<p>Now that we know how to rotate in 2D, we can use this information to figure out how to rotate in 3D.</p>
<p>The same ideas from the "translation" section apply to rotation as well: To rotate the camera to the right, it has to appear as if the entire world is rotating to the left. Speaking more generally, to perform some rotation, the world has to rotate in the opposite direction by the same angle.</p>
<h4 id="Panning">Panning<a class="link-to-header" href="#Panning"> #</a></h4>
<p>When you pan a camera, you rotate it left and/or right. This is the view from above:</p>
<div class="invert-if-dark difference-blend-if-dark">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Pan1.gif" alt="A camera, viewed from above, panning left and right"></p>
</div>
<p>Notice how, from above, panning a camera just looks like a regular old 2D rotation? As a result, we can use the 2D rotation formula from above to rotate the camera and produce a new set of coordinates somewhere between world space and view space. Keep in mind, however, that instead of rotating the X and Y axes, we're rotating the X and Z axes, because this is being viewed from top-down, so make sure to adjust the formula accordingly. <em>Also remember that the coordinates we're using as input to the 2D rotation formula should have already been translated in the manner described in the last section</em>.</p>
<h4 id="Tilting">Tilting<a class="link-to-header" href="#Tilting"> #</a></h4>
<p>Tilt follows a very similar pattern.</p>
<div class="invert-if-dark difference-blend-if-dark">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/e/e5/Tilt1.gif" alt="A camera, viewed from the side, tilting up and down"></p>
</div>
<p>This is yet another 2D rotation. However, instead of rotating the X and Y axes, we're rotating the Y and Z axes. Since tilting occurs <em>after</em> panning, this part takes the translated and panned coordinates as input. What we have as output is our view space coordinates.</p>
<h3 id="Putting-it-All-Together">Putting it All Together<a class="link-to-header" href="#Putting-it-All-Together"> #</a></h3>
<p>Let's add rotation to what we've made so far. I've put everything related to the implementation of rotation and translation in the "Rotation and Translation" folder. Try dragging the <span class="dcg-calculator-api-container"><span class="eleventy-desmos-mq-container dcg-mq-math-mode" data-latex="R_{otationJoystick}" data-settings="{}"></span></span> point to rotate the scene.</p>
<div class="eleventy-desmos-dcg-container" data-state="{&quot;version&quot;:9,&quot;randomSeed&quot;:&quot;&quot;,&quot;graph&quot;:{&quot;viewport&quot;:{&quot;xmin&quot;:-2,&quot;ymin&quot;:-2,&quot;xmax&quot;:2,&quot;ymax&quot;:2},&quot;squareAxes&quot;:true,&quot;xAxisLabel&quot;:&quot;&quot;,&quot;yAxisLabel&quot;:&quot;&quot;,&quot;xAxisArrowMode&quot;:&quot;NONE&quot;,&quot;yAxisArrowMode&quot;:&quot;NONE&quot;,&quot;xAxisMinorSubdivisions&quot;:0,&quot;yAxisMinorSubdivisions&quot;:0,&quot;xAxisStep&quot;:0,&quot;yAxisStep&quot;:0,&quot;degreeMode&quot;:false,&quot;showGrid&quot;:true,&quot;showXAxis&quot;:true,&quot;showYAxis&quot;:true,&quot;xAxisNumbers&quot;:true,&quot;yAxisNumbers&quot;:true,&quot;polarNumbers&quot;:true,&quot;restrictGridToFirstQuadrant&quot;:false,&quot;polarMode&quot;:false,&quot;userLockedViewport&quot;:true},&quot;expressions&quot;:{&quot;list&quot;:[{&quot;id&quot;:&quot;2&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{ameraX}=0&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;3&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{ameraY}=0&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;4&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{ameraZ}=0&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;5&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;R_{otationJoystick}=\\left(0,0\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{}},{&quot;id&quot;:&quot;6&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;folder&quot;,&quot;hidden&quot;:false,&quot;collapsed&quot;:false,&quot;title&quot;:&quot;Rotation and Translation&quot;},{&quot;id&quot;:&quot;7&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositionsModelSpace}=\\left[-1,1,-1,1,-1,1,-1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;8&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositionsModelSpace}=\\left[-1,-1,1,1,-1,-1,1,1\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;9&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositionsModelSpace}=\\left[-5,-5,-5,-5,-7,-7,-7,-7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;10&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositionsModelTranslated}=X_{VertexPositionsModelSpace}-C_{ameraX}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;11&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositionsModelTranslated}=Y_{VertexPositionsModelSpace}-C_{ameraY}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;12&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositionsModelTranslated}=Z_{VertexPositionsModelSpace}-C_{ameraZ}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;13&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositionsModelPanned}=X_{VertexPositionsModelTranslated}\\cdot \\operatorname{cos}\\left(-R_{otationJoystick}.x\\right)-Z_{VertexPositionsModelTranslated}\\cdot \\operatorname{sin}\\left(-R_{otationJoystick}.x\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;14&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositionsModelPanned}=Y_{VertexPositionsModelTranslated}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;15&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositionsModelPanned}=X_{VertexPositionsModelTranslated}\\cdot \\operatorname{sin}\\left(-R_{otationJoystick}.x\\right)+Z_{VertexPositionsModelTranslated}\\cdot \\operatorname{cos}\\left(-R_{otationJoystick}.x\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;16&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;X_{VertexPositionsViewSpace}=X_{VertexPositionsModelPanned}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;17&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Y_{VertexPositionsViewSpace}=Y_{VertexPositionsModelPanned}\\cdot \\operatorname{cos}\\left(-R_{otationJoystick}.y\\right)-Z_{VertexPositionsModelPanned}\\cdot \\operatorname{sin}\\left(-R_{otationJoystick}.y\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;18&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;Z_{VertexPositionsViewSpace}=Y_{VertexPositionsModelPanned}\\cdot \\operatorname{sin}\\left(-R_{otationJoystick}.y\\right)+Z_{VertexPositionsModelPanned}\\cdot \\operatorname{cos}\\left(-R_{otationJoystick}.y\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;6&quot;},{&quot;id&quot;:&quot;19&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;folder&quot;,&quot;hidden&quot;:false,&quot;collapsed&quot;:true,&quot;title&quot;:&quot;Internals&quot;},{&quot;id&quot;:&quot;20&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:true,&quot;latex&quot;:&quot;S_{creenSpacePoints}=\\frac{\\left(X_{VertexPositionsViewSpace},Y_{VertexPositionsViewSpace}\\right)}{-Z_{VertexPositionsViewSpace}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;21&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP1}=\\left[1,2,3,7,1,2,1,5,2,6,5,6\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;22&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP2}=\\left[2,4,7,4,2,5,5,3,4,4,6,8\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;23&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#2d70b3&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;I_{ndicesP3}=\\left[3,3,4,8,5,6,3,7,6,8,7,7\\right]&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;24&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#388c46&quot;,&quot;hidden&quot;:true,&quot;latex&quot;:&quot;U_{nsortedPolygons}=\\operatorname{polygon}\\left(S_{creenSpacePoints}\\left[I_{ndicesP1}\\right],S_{creenSpacePoints}\\left[I_{ndicesP2}\\right],S_{creenSpacePoints}\\left[I_{ndicesP3}\\right]\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;25&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#fa7e19&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;V_{ertexDistances}=\\sqrt{X_{VertexPositionsViewSpace}^{2}+Y_{VertexPositionsViewSpace}^{2}+Z_{VertexPositionsViewSpace}^{2}}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;26&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#6042a6&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;P_{olygonAverageDist}=\\frac{V_{ertexDistances}\\left[I_{ndicesP1}\\right]+V_{ertexDistances}\\left[I_{ndicesP2}\\right]+V_{ertexDistances}\\left[I_{ndicesP3}\\right]}{3}&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;27&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;C_{olors}=\\operatorname{sort}\\left(\\operatorname{hsv}\\left(\\left[30,60...360\\right],1,1\\right),-P_{olygonAverageDist}\\right)&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;},{&quot;id&quot;:&quot;28&quot;,&quot;secret&quot;:false,&quot;type&quot;:&quot;expression&quot;,&quot;color&quot;:&quot;#c74440&quot;,&quot;hidden&quot;:false,&quot;latex&quot;:&quot;\\operatorname{sort}\\left(U_{nsortedPolygons},-P_{olygonAverageDist}\\right)&quot;,&quot;colorLatex&quot;:&quot;C_{olors}&quot;,&quot;lines&quot;:false,&quot;lineWidth&quot;:&quot;0&quot;,&quot;fill&quot;:true,&quot;fillOpacity&quot;:&quot;1&quot;,&quot;regressionParameters&quot;:{},&quot;slider&quot;:{&quot;hardMin&quot;:false,&quot;hardMax&quot;:false},&quot;displayEvaluationAsFraction&quot;:false,&quot;vizProps&quot;:{},&quot;folderId&quot;:&quot;19&quot;}]}}" data-settings="{}"></div>

        
      </main>
    </div>
    <footer>
  <h2>Licensing</h2>
  <ul>
    <li>The source code that generates this site is licensed under the <a href="https://github.com/radian628/unofficial-desmos-wiki/blob/main/LICENSE.txt">MIT License</a>.</li>
    <li>All graphs and equations are licensed under <a href="https://creativecommons.org/public-domain/cc0/">CC0</a>, which essentially means "do whatever you want," so feel free to copy them to your own projects!</li>
    <li>The wiki articles themselves are licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a> so that the articles on this wiki may forever be free.</li>
  </ul>
</footer>
    <script>
      const ldt = document.getElementById("light-dark-toggle");

      let colorScheme = localStorage.getItem("color-scheme");

      if (!colorScheme) {
        localStorage.setItem("color-scheme", "light");
        let colorScheme = "light";
      }

      function setTheme() {
        const colorScheme = localStorage.getItem("color-scheme");

        document.body.classList.toggle("dark", colorScheme === "dark");

        ldt.innerText = colorScheme === "light" ? "☀️" : "🌙"
      }
      
      ldt.onclick = () => {
        localStorage.setItem("color-scheme", 
          localStorage.getItem("color-scheme") === "light" ? "dark" : "light")
        setTheme();
      }

      setTheme();
    </script>
  </body>
</html>